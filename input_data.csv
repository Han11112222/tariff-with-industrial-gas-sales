from pathlib import Path

# 업로드가 없고, 리포에 기본 CSV가 있으면 자동 로드
default_csv = Path("input_data.csv")
if uploaded is None and default_csv.exists():
    st.info("리포지토리의 input_data.csv를 자동으로 불러왔어.")
    uploaded = str(default_csv)  # 업로더 대신 경로 전달

@st.cache_data
def _load_csv(file):
    import pandas as pd
    from pathlib import Path
    p = Path(file)
    if p.exists():
        return pd.read_csv(p, parse_dates=["date"])
    else:
        # 업로더 객체인 경우
        return pd.read_csv(file, parse_dates=["date"])
